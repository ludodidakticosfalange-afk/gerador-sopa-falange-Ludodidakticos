<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Portal Premium — Falange & Ludodidakticos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body{
      margin:0;
      font-family:system-ui, Arial, sans-serif;
      background:#0b1220;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
    }
    .box{
      width:100%;
      max-width:420px;
      background:#111827;
      border-radius:16px;
      padding:20px;
      box-shadow:0 20px 60px rgba(0,0,0,.5);
    }
    h1{
      margin:0 0 6px;
      font-size:20px;
      text-align:center;
    }
    .sub{
      font-size:12px;
      color:#9ca3af;
      text-align:center;
      margin-bottom:16px;
    }
    label{
      font-size:12px;
      display:block;
      margin-bottom:6px;
      color:#e5e7eb;
    }
    input{
      width:100%;
      padding:10px;
      border-radius:10px;
      border:none;
      margin-bottom:12px;
      font-size:14px;
    }
    button{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:none;
      background:#2563eb;
      color:#fff;
      font-weight:800;
      font-size:14px;
      cursor:pointer;
    }
    .msg{
      margin-top:10px;
      font-size:12px;
      color:#fca5a5;
      text-align:center;
      min-height:16px;
    }
    .footer{
      margin-top:16px;
      font-size:11px;
      color:#9ca3af;
      text-align:center;
    }
/* ===== PASSO 3 (VISUAL PREMIUM) ===== */
body{
  background:
    radial-gradient(900px 500px at 20% 15%, rgba(37,99,235,.30), transparent 55%),
    radial-gradient(700px 420px at 80% 25%, rgba(34,197,94,.18), transparent 55%),
    radial-gradient(900px 550px at 50% 95%, rgba(99,102,241,.18), transparent 55%),
    #0b1220;
}

.box{
  background: rgba(17,24,39,.78);
  border: 1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
}

button{
  background: linear-gradient(180deg, #2563eb, #1d4ed8);
  box-shadow: 0 12px 30px rgba(37,99,235,.25);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
button:hover{
  transform: translateY(-1px);
  box-shadow: 0 18px 40px rgba(37,99,235,.33);
  filter: brightness(1.05);
}
button:active{ transform: translateY(0px); }

input{
  background: rgba(255,255,255,.94);
  border: 1px solid rgba(0,0,0,.08);
  outline: none;
}
input:focus{
  box-shadow: 0 0 0 4px rgba(37,99,235,.22);
}

.msg{ white-space: pre-line; } /* quebra \n bonito */

  </style>
</head>
<body>

  <div class="box">
<div style="text-align:center; margin-bottom:14px;">
  <img src="falange.png" alt="Falange" style="height:48px; margin-right:10px;">
  <img src="ludodidakticos.png.jpg" alt="Ludodidakticos" style="height:42px;">
</div>

    <h1>Portal Premium</h1>
    <div class="sub">Falange Educación Lúdica &amp; Ludodidakticos</div>

    <label>Código de acesso</label>
    <input id="code" placeholder="Digite seu código" />

    <button onclick="entrar()">Entrar</button>
<button style="margin-top:10px;background:#374151" onclick="limpar()">Limpar assinatura (teste)</button>

<div id="statusAssinatura" style="
  margin:10px 0;
  font-weight:700;
  text-align:center;
"></div>

    <div id="msg" class="msg"></div>

    <div class="footer">
      Assinatura educacional • Uso profissional
    </div>
  </div>

  <script>
function normCode(s){
  return String(s || "")
    .trim()
    .toUpperCase()
    .replace(/\s+/g, "")
    .replace(/–/g, "-")
    .replace(/—/g, "-");
}

// PASSO 3: lista de clientes/códigos
const CLIENTES = [
  { code: "LUDO-FALANGE-TESTE01", activatedAt: "2025-12-17", days: 3 },
  { code: "LUDO-FALANGE-ALEX01",  activatedAt: "2025-12-17", days: 30 }
];

function findCliente(code){
  return CLIENTES.find(c => normCode(c.code) === code) || null;
}

function clienteAtivo(cliente){
  if(!cliente) return false;
  const start = new Date(cliente.activatedAt + "T00:00:00");
  const ms = Number(cliente.days) * 24 * 60 * 60 * 1000;
  const end = new Date(start.getTime() + ms);
  return new Date() < end;
}

function limpar(){
  localStorage.removeItem("falange_ok");
  localStorage.removeItem("falange_activatedAt");
  localStorage.removeItem("falange_days");
  document.getElementById("msg").textContent =
    "Assinatura limpa. Recarregue a página e teste o código.";
  verificarAssinatura();
}

function entrar(){
localStorage.setItem("falange_code", code);

  const raw = document.getElementById("code").value;
  const code = normCode(raw);

  if(!code){
    document.getElementById("msg").textContent = "Digite o código para continuar.";
    return;
  }

  const cliente = findCliente(code);

  if(!cliente){
    const lista = CLIENTES.map(c => normCode(c.code)).join(" | ");
    document.getElementById("msg").textContent =
      "Código inválido.\n" +
      "Você digitou (normalizado): " + code + "\n" +
      "Códigos carregados nesta página: " + lista;
    return;
  }

  if(!clienteAtivo(cliente)){
    document.getElementById("msg").textContent =
      "Assinatura expirada. Fale com o suporte para renovar.";
    return;
  }

  // liberou: entra no hub
  document.getElementById("msg").textContent = "";
  localStorage.setItem("falange_ok", "1");
  localStorage.setItem("falange_activatedAt", cliente.activatedAt);
  localStorage.setItem("falange_days", cliente.days);
  window.location.href = "hub.html";
}

function verificarAssinatura(){
  const dataStr = localStorage.getItem("falange_activatedAt");
  const dias = Number(localStorage.getItem("falange_days") || 0);
  const statusEl = document.getElementById("statusAssinatura");
  if (!statusEl) return;

  if (!dataStr || !dias) {
    statusEl.textContent = "❌ Nenhuma assinatura ativa";
    statusEl.style.color = "#dc2626";
    return;
  }

  const inicio = new Date(dataStr);
  const agora = new Date();
  const diff = Math.floor((agora - inicio) / (1000 * 60 * 60 * 24));
  const restante = dias - diff;

  if (restante <= 0) {
    statusEl.textContent = "⛔ Assinatura expirada";
    statusEl.style.color = "#dc2626";
    localStorage.removeItem("falange_ok");
    return;
  }

  statusEl.textContent = `✅ Assinatura ativa — ${restante} dia(s) restantes`;
  statusEl.style.color = "#16a34a";
}

document.addEventListener("DOMContentLoaded", verificarAssinatura);
</script>


</body>
</html>
